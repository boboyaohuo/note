# 开发随笔

- 移动端滚动穿透问题最佳解决方案

> 1. 普通内容蒙层，在蒙层加入touchmove.prevent 阻止touchmove即可
> 2. iframe内容蒙层，弹出蒙层之前记住滚动位置，然后对滚动内容加定位，top赋负滚动高度**并且body加上overflow:hidden;**，收起蒙层后，重新设置滚动位置即可

- vue router 左右过渡动画与v-if="$route.meta.keepAlive" 冲突

- ios input失焦导致页面错位 处理方法 blur(){window.scrollBy(0,0)}

- provisional headers are shown 有可能是被ab拦截了。。 growingIo会被拦截

- vue-lazyload中，引入非static内的图片需要用require引入，vue-lazyload是在main.js文件中引入，不会被webpack进行编译，src中的文件会被webpack编译，包括assets，assets文件夹中的图片地址，会在编译过程中改变。

- table **表格固定属性** table-layout:fixed;

- css color关键字 **currentColor** 就近原则取最近标签color值

- 下划线命名转成大驼峰命名

      str.replace(/(\w)(_)(\w)/g, (match, $1, $2, $3) => `${$1}${$3.toUpperCase()}`)

- URL参数转对象

      location.search.replace(/([^&=?]+)=([^&]+)/g,(m,$1,$2)=> param[$1] = $2);

- js动画 通过 **window.requestAnimationFrame()** 触发更平滑

- onload与**onpageshow**区别

      |                                    |     事件   | Chrome | Safari |
      | ---------------------------------- | ---------- | ------ | ------ |
      |                      第一次加载页面  |   onload   |   触发  |  触发  |
      |                                    | onpageshow |   触发  |  触发   |
      |   从其他页面返回(按浏览器的返回按钮)     | onload     |  触发  |  不触发  |
      |                                    |  onpageshow |  触发  |   触发  |

- **iframe**在**低端手机**嵌套**滚动**问题 **注:** 此方法会导致低端机锚点定位点击失败

      <div class="scroll-wrapper">
        <iframe src=""></iframe>
      </div>
      这个DIV将作为支持内部滚动的基础容器。
      
      .scroll-wrapper {
        -webkit-overflow-scrolling: touch;
        overflow-y: scroll;
        /* 提示: 请在此处加上需要设置的大小(dimensions)或位置(positioning)信息! */
      }
      .scroll-wrapper iframe {
        /* 你自己指定的样式 */
      }

- **-webkit-overflow-scrolling: touch;** 属性值就是专为浏览器中溢出(overflow)时需要滚动的元素设计的 解决ios滚动问题比较多 长跟在overflow属性后 优化ios滚动
